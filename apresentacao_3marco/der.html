<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DER - Estoque 360</title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const img = document.getElementById("imgZoom");
            let zoomLevel = 0;

            let isDragging = false;
            let startX, startY;
            let currentX = 0;
            let currentY = 0;

            const style = document.createElement("style");
            style.innerHTML = `
            body {
                margin: 0;
                height: 100vh;
                width: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                background: #f0f0f0;
                overflow: hidden;
            }

            #imgZoom {
                width: 900px;
                cursor: zoom-in;
                transition: transform 0.3s ease;
                transform-origin: center center;
                position: relative;
            }

            #imgZoom.zoom-1 {
                transform: scale(1.5);
                cursor: grab;
            }

            #imgZoom.zoom-2 {
                transform: scale(2.5);
                cursor: grab;
            }
            `;
            document.head.appendChild(style);

            img.addEventListener("click", (e) => {
                if (isDragging) return;
                zoomLevel++;
                if (zoomLevel === 1) {
                    img.classList.add("zoom-1");
                    img.classList.remove("zoom-2");
                }
                else if (zoomLevel === 2) {
                    img.classList.add("zoom-2");
                    img.classList.remove("zoom-1");
                }
                else {
                    img.classList.remove("zoom-1", "zoom-2");
                    zoomLevel = 0;
                    currentX = 0;
                    currentY = 0;
                    img.style.transform = "";
                }
            });
            img.addEventListener("mousedown", (e) => {
                if (zoomLevel === 0) return;
                isDragging = true;
                startX = e.clientX - currentX;
                startY = e.clientY - currentY;
                img.style.cursor = "grabbing";
            });
            document.addEventListener("mousemove", (e) => {
                if (!isDragging) return;
                currentX = e.clientX - startX;
                currentY = e.clientY - startY;
                img.style.transform = `
                    translate(${currentX}px, ${currentY}px)
                    scale(${zoomLevel === 1 ? 1.5 : 2.5})
                `;
            });
            document.addEventListener("mouseup", () => {
                isDragging = false;
                img.style.cursor = zoomLevel > 0 ? "grab" : "zoom-in";
            });
        });
    </script>
</head>

<body>
    <img src="assets/DER.jpg" id="imgZoom" alt="Imagem com Zoom">
</body>

</html>