{% extends 'base.html' %}

{% block content %}
  <div class="row mb-4">
    <div class="col-12 col-lg-6 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Cadastro de Produtos</h5>
          <p class="card-text">Configuração típica para testar o fluxo sem preencher o banco.</p>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><strong>Categoria:</strong> {{ demo_produto.categoria.title() }}</li>
            <li class="list-group-item"><strong>Tipo:</strong> {{ demo_produto.tipo }}</li>
            <li class="list-group-item"><strong>Gênero:</strong> {{ demo_produto.genero }}</li>
            <li class="list-group-item"><strong>Tamanhos:</strong> {{ demo_produto.tamanhos | join(', ') }}</li>
            <li class="list-group-item"><strong>Campos obrigatórios:</strong> {{ demo_produto.campos_obrigatorios | join(', ') }}</li>
          </ul>
          <div class="mt-3 text-muted small">Aperte "Produtos" no menu para preencher o formulário real.</div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-6 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Compras de Fornecedores</h5>
          <p class="card-text">Exemplo rápido para visualizar a lista de itens em uma compra.</p>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><strong>CNPJ:</strong> {{ demo_compra.fornecedor }}</li>
            <li class="list-group-item">
              <strong>Itens:</strong>
              <ul class="mt-2 mb-0">
                {% for item in demo_compra.itens %}
                  <li>{{ item.quantidade }} x {{ item.nome }} — R$ {{ '%.2f'|format(item.valor_unit) }}</li>
                {% endfor %}
              </ul>
            </li>
          </ul>
          <div class="mt-3 text-muted small">A seção "Compras" permite adicionar ou limpar itens dinamicamente.</div>
        </div>
      </div>
    </div>
  </div>

  <div class="row mb-4">
    <div class="col-12 col-lg-6 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Vendas a Clientes</h5>
          <p class="card-text">Demonstração do fluxo de venda com forma de pagamento.</p>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><strong>CPF:</strong> {{ demo_venda.cliente }}</li>
            <li class="list-group-item"><strong>Forma de pagamento:</strong> {{ demo_venda.forma_pgto }}</li>
            <li class="list-group-item">
              <strong>Itens:</strong>
              <ul class="mt-2 mb-0">
                {% for item in demo_venda.itens %}
                  <li>{{ item.quantidade }} x {{ item.nome }} — R$ {{ '%.2f'|format(item.valor_unit) }}</li>
                {% endfor %}
              </ul>
            </li>
          </ul>
          <div class="mt-3 text-muted small">Na aba "Vendas" é possível buscar produtos pelo tipo e registrar o pagamento.</div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-6 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Estoque Atual</h5>
          <p class="card-text">Miniatura com os campos exibidos na visão de estoque.</p>
          <div class="table-responsive">
            <table class="table table-striped table-sm align-middle">
              <thead>
                <tr>
                  <th>Tipo</th>
                  <th>Marca</th>
                  <th>Cor</th>
                  <th>Tamanho</th>
                  <th class="text-end">Qtd</th>
                </tr>
              </thead>
              <tbody>
                {% for item in demo_estoque %}
                  <tr>
                    <td>{{ item.tipo_produto }}</td>
                    <td>{{ item.marca }}</td>
                    <td>{{ item.cor }}</td>
                    <td>{{ item.tamanho }}</td>
                    <td class="text-end">{{ item.quantidade }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
          <div class="text-muted small">A página "Estoque" lista diretamente do banco após cadastros.</div>
        </div>
      </div>
    </div>
  </div>

  <div class="alert alert-info" role="alert">
    Use esta prévia para conhecer o visual das telas antes de conectar ao banco de dados local.
  </div>
{% endblock %}
